[2025-03-19T21:56:06.035Z] [INFO] Starting migration...
[2025-03-19T21:56:06.036Z] [INFO] Ensuring database schema has required columns...
[2025-03-19T21:56:06.132Z] [WARN] Warning: Could not verify schema columns. If they do not exist, the migration may fail.
[2025-03-19T21:56:06.132Z] [WARN] Error details: Could not find the function public.execute_sql(sql_query) in the schema cache
[2025-03-19T21:56:06.132Z] [INFO] Inserting categories...
[2025-03-19T21:56:06.228Z] [INFO] All categories already exist, skipping insertion
[2025-03-19T21:56:06.228Z] [INFO] Found 1 chapter directories to process
[2025-03-19T21:56:06.229Z] [INFO] Processing chapter: Ch13_Confusion
[2025-03-19T21:56:06.229Z] [INFO] Checking if chapter 13 exists...
[2025-03-19T21:56:06.381Z] [INFO] Inserted new chapter: Confusion (ID: 7)
[2025-03-19T21:56:06.382Z] [INFO] Processing file: history.md
[2025-03-19T21:56:06.383Z] [INFO] Preprocessing file: history.md
[2025-03-19T21:56:06.383Z] [INFO] Using title as initial section: "Main" at line 0
[2025-03-19T21:56:06.383Z] [INFO] Found section: "Chief Complaint" at line 2
[2025-03-19T21:56:06.384Z] [ERROR] Error preprocessing file /Users/lucas/Documents/markdown_1-185/1-18/Ch13_Confusion/history.md: Cannot read properties of undefined (reading 'lastIndentLevel')
[2025-03-19T21:56:06.384Z] [ERROR] TypeError: Cannot read properties of undefined (reading 'lastIndentLevel')
    at preprocessMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:220:19)
    at processMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:483:33)
    at processChapter (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:666:29)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async migrateData (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:789:23)
[2025-03-19T21:56:06.384Z] [WARN] No items found in history.md
[2025-03-19T21:56:06.384Z] [INFO] Processing file: alarm-features.md
[2025-03-19T21:56:06.384Z] [INFO] Preprocessing file: alarm-features.md
[2025-03-19T21:56:06.384Z] [INFO] Using title as initial section: "Main" at line 0
[2025-03-19T21:56:06.385Z] [INFO] Found section: "Critical Causes (Require Immediate Intervention)" at line 2
[2025-03-19T21:56:06.385Z] [ERROR] Error preprocessing file /Users/lucas/Documents/markdown_1-185/1-18/Ch13_Confusion/alarm-features.md: Cannot read properties of undefined (reading 'lastIndentLevel')
[2025-03-19T21:56:06.385Z] [ERROR] TypeError: Cannot read properties of undefined (reading 'lastIndentLevel')
    at preprocessMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:220:19)
    at processMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:483:33)
    at processChapter (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:666:29)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async migrateData (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:789:23)
[2025-03-19T21:56:06.385Z] [WARN] No items found in alarm-features.md
[2025-03-19T21:56:06.385Z] [INFO] Processing file: medications.md
[2025-03-19T21:56:06.385Z] [INFO] Preprocessing file: medications.md
[2025-03-19T21:56:06.385Z] [INFO] Using title as initial section: "Main" at line 0
[2025-03-19T21:56:06.385Z] [INFO] Found section: "Medication History" at line 2
[2025-03-19T21:56:06.385Z] [ERROR] Error preprocessing file /Users/lucas/Documents/markdown_1-185/1-18/Ch13_Confusion/medications.md: Cannot read properties of undefined (reading 'lastIndentLevel')
[2025-03-19T21:56:06.385Z] [ERROR] TypeError: Cannot read properties of undefined (reading 'lastIndentLevel')
    at preprocessMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:220:19)
    at processMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:483:33)
    at processChapter (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:666:29)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async migrateData (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:789:23)
[2025-03-19T21:56:06.386Z] [WARN] No items found in medications.md
[2025-03-19T21:56:06.386Z] [INFO] Processing file: diet.md
[2025-03-19T21:56:06.386Z] [INFO] Preprocessing file: diet.md
[2025-03-19T21:56:06.386Z] [INFO] Using title as initial section: "Main" at line 0
[2025-03-19T21:56:06.386Z] [INFO] Found section: "Nutrition Status" at line 2
[2025-03-19T21:56:06.386Z] [ERROR] Error preprocessing file /Users/lucas/Documents/markdown_1-185/1-18/Ch13_Confusion/diet.md: Cannot read properties of undefined (reading 'lastIndentLevel')
[2025-03-19T21:56:06.386Z] [ERROR] TypeError: Cannot read properties of undefined (reading 'lastIndentLevel')
    at preprocessMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:220:19)
    at processMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:483:33)
    at processChapter (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:666:29)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async migrateData (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:789:23)
[2025-03-19T21:56:06.386Z] [WARN] No items found in diet.md
[2025-03-19T21:56:06.386Z] [INFO] Processing file: review-systems.md
[2025-03-19T21:56:06.386Z] [INFO] Preprocessing file: review-systems.md
[2025-03-19T21:56:06.386Z] [INFO] Using title as initial section: "Main" at line 0
[2025-03-19T21:56:06.386Z] [INFO] Found section: "Neurological" at line 2
[2025-03-19T21:56:06.386Z] [ERROR] Error preprocessing file /Users/lucas/Documents/markdown_1-185/1-18/Ch13_Confusion/review-systems.md: Cannot read properties of undefined (reading 'lastIndentLevel')
[2025-03-19T21:56:06.386Z] [ERROR] TypeError: Cannot read properties of undefined (reading 'lastIndentLevel')
    at preprocessMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:220:19)
    at processMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:483:33)
    at processChapter (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:666:29)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async migrateData (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:789:23)
[2025-03-19T21:56:06.387Z] [WARN] No items found in review-systems.md
[2025-03-19T21:56:06.387Z] [INFO] Processing file: collateral-history.md
[2025-03-19T21:56:06.387Z] [INFO] Preprocessing file: collateral-history.md
[2025-03-19T21:56:06.387Z] [INFO] Using title as initial section: "Main" at line 0
[2025-03-19T21:56:06.387Z] [INFO] Found section: "Sources of Collateral Information" at line 2
[2025-03-19T21:56:06.387Z] [ERROR] Error preprocessing file /Users/lucas/Documents/markdown_1-185/1-18/Ch13_Confusion/collateral-history.md: Cannot read properties of undefined (reading 'lastIndentLevel')
[2025-03-19T21:56:06.387Z] [ERROR] TypeError: Cannot read properties of undefined (reading 'lastIndentLevel')
    at preprocessMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:220:19)
    at processMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:483:33)
    at processChapter (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:666:29)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async migrateData (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:789:23)
[2025-03-19T21:56:06.387Z] [WARN] No items found in collateral-history.md
[2025-03-19T21:56:06.387Z] [INFO] Processing file: risk-factors.md
[2025-03-19T21:56:06.387Z] [INFO] Preprocessing file: risk-factors.md
[2025-03-19T21:56:06.387Z] [INFO] Using title as initial section: "Main" at line 0
[2025-03-19T21:56:06.387Z] [INFO] Found section: "Patient Characteristics" at line 2
[2025-03-19T21:56:06.387Z] [ERROR] Error preprocessing file /Users/lucas/Documents/markdown_1-185/1-18/Ch13_Confusion/risk-factors.md: Cannot read properties of undefined (reading 'lastIndentLevel')
[2025-03-19T21:56:06.387Z] [ERROR] TypeError: Cannot read properties of undefined (reading 'lastIndentLevel')
    at preprocessMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:220:19)
    at processMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:483:33)
    at processChapter (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:666:29)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async migrateData (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:789:23)
[2025-03-19T21:56:06.388Z] [WARN] No items found in risk-factors.md
[2025-03-19T21:56:06.388Z] [INFO] Processing file: differential-diagnosis.md
[2025-03-19T21:56:06.388Z] [INFO] Preprocessing file: differential-diagnosis.md
[2025-03-19T21:56:06.388Z] [INFO] Using title as initial section: "Main" at line 0
[2025-03-19T21:56:06.388Z] [INFO] Found section: "Systemic Diseases Secondarily Affecting CNS" at line 2
[2025-03-19T21:56:06.388Z] [ERROR] Error preprocessing file /Users/lucas/Documents/markdown_1-185/1-18/Ch13_Confusion/differential-diagnosis.md: Cannot read properties of undefined (reading 'lastIndentLevel')
[2025-03-19T21:56:06.388Z] [ERROR] TypeError: Cannot read properties of undefined (reading 'lastIndentLevel')
    at preprocessMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:220:19)
    at processMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:483:33)
    at processChapter (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:666:29)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async migrateData (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:789:23)
[2025-03-19T21:56:06.388Z] [WARN] No items found in differential-diagnosis.md
[2025-03-19T21:56:06.388Z] [INFO] Processing file: past-medical.md
[2025-03-19T21:56:06.388Z] [INFO] Preprocessing file: past-medical.md
[2025-03-19T21:56:06.388Z] [INFO] Using title as initial section: "Main" at line 0
[2025-03-19T21:56:06.388Z] [INFO] Found section: "Neurological History" at line 2
[2025-03-19T21:56:06.388Z] [ERROR] Error preprocessing file /Users/lucas/Documents/markdown_1-185/1-18/Ch13_Confusion/past-medical.md: Cannot read properties of undefined (reading 'lastIndentLevel')
[2025-03-19T21:56:06.388Z] [ERROR] TypeError: Cannot read properties of undefined (reading 'lastIndentLevel')
    at preprocessMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:220:19)
    at processMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:483:33)
    at processChapter (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:666:29)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async migrateData (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:789:23)
[2025-03-19T21:56:06.389Z] [WARN] No items found in past-medical.md
[2025-03-19T21:56:06.389Z] [INFO] Processing file: physical-exam.md
[2025-03-19T21:56:06.389Z] [INFO] Preprocessing file: physical-exam.md
[2025-03-19T21:56:06.389Z] [INFO] Using title as initial section: "Main" at line 0
[2025-03-19T21:56:06.389Z] [INFO] Found section: "Vital Signs" at line 2
[2025-03-19T21:56:06.389Z] [ERROR] Error preprocessing file /Users/lucas/Documents/markdown_1-185/1-18/Ch13_Confusion/physical-exam.md: Cannot read properties of undefined (reading 'lastIndentLevel')
[2025-03-19T21:56:06.389Z] [ERROR] TypeError: Cannot read properties of undefined (reading 'lastIndentLevel')
    at preprocessMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:220:19)
    at processMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:483:33)
    at processChapter (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:666:29)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async migrateData (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:789:23)
[2025-03-19T21:56:06.389Z] [WARN] No items found in physical-exam.md
[2025-03-19T21:56:06.389Z] [INFO] Processing file: lab-studies.md
[2025-03-19T21:56:06.389Z] [INFO] Preprocessing file: lab-studies.md
[2025-03-19T21:56:06.389Z] [INFO] Using title as initial section: "Main" at line 0
[2025-03-19T21:56:06.389Z] [INFO] Found section: "Point of Care Testing" at line 2
[2025-03-19T21:56:06.389Z] [ERROR] Error preprocessing file /Users/lucas/Documents/markdown_1-185/1-18/Ch13_Confusion/lab-studies.md: Cannot read properties of undefined (reading 'lastIndentLevel')
[2025-03-19T21:56:06.389Z] [ERROR] TypeError: Cannot read properties of undefined (reading 'lastIndentLevel')
    at preprocessMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:220:19)
    at processMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:483:33)
    at processChapter (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:666:29)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async migrateData (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:789:23)
[2025-03-19T21:56:06.390Z] [WARN] No items found in lab-studies.md
[2025-03-19T21:56:06.390Z] [INFO] Processing file: imaging.md
[2025-03-19T21:56:06.390Z] [INFO] Preprocessing file: imaging.md
[2025-03-19T21:56:06.390Z] [INFO] Using title as initial section: "Main" at line 0
[2025-03-19T21:56:06.390Z] [INFO] Found section: "Cranial Imaging" at line 2
[2025-03-19T21:56:06.390Z] [ERROR] Error preprocessing file /Users/lucas/Documents/markdown_1-185/1-18/Ch13_Confusion/imaging.md: Cannot read properties of undefined (reading 'lastIndentLevel')
[2025-03-19T21:56:06.390Z] [ERROR] TypeError: Cannot read properties of undefined (reading 'lastIndentLevel')
    at preprocessMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:220:19)
    at processMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:483:33)
    at processChapter (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:666:29)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async migrateData (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:789:23)
[2025-03-19T21:56:06.390Z] [WARN] No items found in imaging.md
[2025-03-19T21:56:06.390Z] [INFO] Processing file: special-tests.md
[2025-03-19T21:56:06.390Z] [INFO] Preprocessing file: special-tests.md
[2025-03-19T21:56:06.390Z] [INFO] Using title as initial section: "Main" at line 0
[2025-03-19T21:56:06.390Z] [INFO] Found section: "Neurological Tests" at line 2
[2025-03-19T21:56:06.390Z] [ERROR] Error preprocessing file /Users/lucas/Documents/markdown_1-185/1-18/Ch13_Confusion/special-tests.md: Cannot read properties of undefined (reading 'lastIndentLevel')
[2025-03-19T21:56:06.390Z] [ERROR] TypeError: Cannot read properties of undefined (reading 'lastIndentLevel')
    at preprocessMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:220:19)
    at processMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:483:33)
    at processChapter (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:666:29)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async migrateData (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:789:23)
[2025-03-19T21:56:06.390Z] [WARN] No items found in special-tests.md
[2025-03-19T21:56:06.391Z] [INFO] Processing file: ecg.md
[2025-03-19T21:56:06.391Z] [INFO] Preprocessing file: ecg.md
[2025-03-19T21:56:06.391Z] [INFO] Using title as initial section: "Main" at line 0
[2025-03-19T21:56:06.391Z] [INFO] Found section: "ECG Findings" at line 2
[2025-03-19T21:56:06.391Z] [ERROR] Error preprocessing file /Users/lucas/Documents/markdown_1-185/1-18/Ch13_Confusion/ecg.md: Cannot read properties of undefined (reading 'lastIndentLevel')
[2025-03-19T21:56:06.391Z] [ERROR] TypeError: Cannot read properties of undefined (reading 'lastIndentLevel')
    at preprocessMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:220:19)
    at processMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:483:33)
    at processChapter (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:666:29)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async migrateData (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:789:23)
[2025-03-19T21:56:06.391Z] [WARN] No items found in ecg.md
[2025-03-19T21:56:06.391Z] [INFO] Processing file: assessment.md
[2025-03-19T21:56:06.391Z] [INFO] Preprocessing file: assessment.md
[2025-03-19T21:56:06.391Z] [INFO] Using title as initial section: "Main" at line 0
[2025-03-19T21:56:06.391Z] [INFO] Found section: "Primary Diagnosis" at line 2
[2025-03-19T21:56:06.391Z] [ERROR] Error preprocessing file /Users/lucas/Documents/markdown_1-185/1-18/Ch13_Confusion/assessment.md: Cannot read properties of undefined (reading 'lastIndentLevel')
[2025-03-19T21:56:06.391Z] [ERROR] TypeError: Cannot read properties of undefined (reading 'lastIndentLevel')
    at preprocessMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:220:19)
    at processMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:483:33)
    at processChapter (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:666:29)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async migrateData (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:789:23)
[2025-03-19T21:56:06.391Z] [WARN] No items found in assessment.md
[2025-03-19T21:56:06.391Z] [INFO] Processing file: plan.md
[2025-03-19T21:56:06.391Z] [INFO] Preprocessing file: plan.md
[2025-03-19T21:56:06.391Z] [INFO] Using title as initial section: "Main" at line 0
[2025-03-19T21:56:06.391Z] [INFO] Found section: "Immediate Interventions" at line 2
[2025-03-19T21:56:06.392Z] [ERROR] Error preprocessing file /Users/lucas/Documents/markdown_1-185/1-18/Ch13_Confusion/plan.md: Cannot read properties of undefined (reading 'lastIndentLevel')
[2025-03-19T21:56:06.392Z] [ERROR] TypeError: Cannot read properties of undefined (reading 'lastIndentLevel')
    at preprocessMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:220:19)
    at processMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:483:33)
    at processChapter (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:666:29)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async migrateData (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:789:23)
[2025-03-19T21:56:06.392Z] [WARN] No items found in plan.md
[2025-03-19T21:56:06.392Z] [INFO] Processing file: disposition.md
[2025-03-19T21:56:06.392Z] [INFO] Preprocessing file: disposition.md
[2025-03-19T21:56:06.392Z] [INFO] Using title as initial section: "Main" at line 0
[2025-03-19T21:56:06.392Z] [INFO] Found section: "Disposition Decision" at line 2
[2025-03-19T21:56:06.392Z] [ERROR] Error preprocessing file /Users/lucas/Documents/markdown_1-185/1-18/Ch13_Confusion/disposition.md: Cannot read properties of undefined (reading 'lastIndentLevel')
[2025-03-19T21:56:06.392Z] [ERROR] TypeError: Cannot read properties of undefined (reading 'lastIndentLevel')
    at preprocessMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:220:19)
    at processMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:483:33)
    at processChapter (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:666:29)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async migrateData (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:789:23)
[2025-03-19T21:56:06.392Z] [WARN] No items found in disposition.md
[2025-03-19T21:56:06.392Z] [INFO] Processing file: patient-education.md
[2025-03-19T21:56:06.392Z] [INFO] Preprocessing file: patient-education.md
[2025-03-19T21:56:06.393Z] [INFO] Using title as initial section: "Main" at line 0
[2025-03-19T21:56:06.393Z] [INFO] Found section: "Explanation to Patient/Family" at line 2
[2025-03-19T21:56:06.393Z] [ERROR] Error preprocessing file /Users/lucas/Documents/markdown_1-185/1-18/Ch13_Confusion/patient-education.md: Cannot read properties of undefined (reading 'lastIndentLevel')
[2025-03-19T21:56:06.393Z] [ERROR] TypeError: Cannot read properties of undefined (reading 'lastIndentLevel')
    at preprocessMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:220:19)
    at processMarkdownFile (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:483:33)
    at processChapter (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:666:29)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async migrateData (file:///Users/lucas/Lucas%20Projects/symptomchecker/tools/db-migration/migrate.mjs:789:23)
[2025-03-19T21:56:06.393Z] [WARN] No items found in patient-education.md
[2025-03-19T21:56:06.393Z] [INFO] Completed processing chapter Ch13_Confusion: 0 files processed, 18 files had errors
[2025-03-19T21:56:06.393Z] [INFO] Migration completed: 0 chapters processed successfully, 1 chapters had errors
[2025-03-19T21:56:06.393Z] [INFO] Migration completed in 0.359 seconds
